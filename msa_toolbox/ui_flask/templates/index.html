<!DOCTYPE html>
<html lang="en">
<head>
    <title>Python Package GUI</title>

    <!-- Latest compiled and minified CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href={{url_for('static', filename='style1.css')}}>
</head>
<body >
    <nav class="sidebar">
        <div style="text-align: center; padding: 0px; background-image: linear-gradient(125deg,#8b075b,#042c60); ">
            <img src={{url_for('static', filename='logo1.jpeg')}} alt="logo" style="width: 100%; height: 100%;"> 
        <!--<h1>MSA ToolBox</h1>-->
        </div>
        <div>
        <ul>
          <hr> 
          <li {% if active == 'home' %}class="active"{% endif %}><a href="/config_image">Configs</a></li>
          <li {% if active == 'training' %}class="active"{% endif %}><a href="/training">Training</a></li>
        </ul>
        </div>
      </nav>
    <!--{% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <div id='popup' class="alert alert-success"> Config file created </div>
            {% endfor %}
        {% endif %}
    {% endwith %} -->


    <section class='config-section'>
        <h1 class="title">Choose Config file</h1>
        <div class="btn-group d-flex" role="group" aria-label="Form Type Buttons">
            <button type="button" class="btn btn-custom flex-fill active" id="imageFormBtn">Image Form</button>
            <button type="button" class="btn btn-custom flex-fill" id="textFormBtn">Text Form</button>
        </div>
        
        <form class="config-form row" id='imageForm' method="POST" action="/update_image">
            {%if configs[0] %}
            <div class="form-field col-lg-12" >
                <lable class="lable">Configuration Files</lable>
                <select class="input-text js-input" id="config_file_name" name="config_file_name" required>
                    {% for config in configs[0] %}
                        <option >{{ config }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-field col-lg-12">
                <button type="submit" class="col-lg-12 submit-btn" required>Submit</button>
            </div>
            {% else %}
        <div class="vertical-center">
                <div class="alert alert-warning">Create config file</div>
        </div>
        {%endif%}
        </form>

        <form class="config-form row" id='textForm' method="POST" action="/update_text">
            {%if configs[1] %}
            <div class="form-field col-lg-12" >
                <lable class="lable">Configuration Files</lable>
                <select class="input-text js-input" id="config_file_name" name="config_file_name" required>
                    {% for config in configs[1] %}
                        <option >{{ config }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-field col-lg-12">
                <button type="submit" class="col-lg-12 submit-btn" required>Submit</button>
            </div>
            {% else %}
        <div class="vertical-center">
                <div class="alert alert-warning">Create config file</div>
        </div>
        {%endif%}
        </form>
        
    </section>



<div style="margin-left:200px" id="file-content">{{m}}</div>
<script>
    setTimeout(function() {
        document.getElementById('popup').remove();
    }, 5000);
    // $(document).ready(function(){
    //     setInterval(function(){
    //         $.ajax({
    //             url: '/file_content',
    //             success: function(data) {
    //                 console.log(data);
    //                 $('#file-content').m = data;
                    
    //             }
    //         });
    //     }, 2000);
    // });
    $(document).ready(function() {
        $('#textForm').hide();
            $('#imageFormBtn').click(function() {
                $('#textForm').hide();
                $('#imageForm').show();
                $(this).addClass('active');
                $('#textFormBtn').removeClass('active');
            });
    
            $('#textFormBtn').click(function() {
                $('#imageForm').hide();
                $('#textForm').show();
                $(this).addClass('active');
                $('#imageFormBtn').removeClass('active');
            });
        });
    </script>
</body>
</html>
